{"version":3,"sources":["webpack:///./src/pages/Campaigns.vue","webpack:///src/pages/Campaigns.vue","webpack:///./src/pages/Campaigns.vue?2bd3","webpack:///./src/pages/Campaigns.vue?9548","webpack:///./src/pages/Campaigns.vue?af88"],"names":["render","_vm","this","_c","_self","staticClass","_v","attrs","on","$event","$modal","show","alerts","connected","isLoading","showNoCampaigns","staticStyle","bulk","length","actionKey","setAction","campaignsToShow","isRefreshing","_e","staticRenderFns","beforeRouteLeave","next","inheritAttrs","data","computed","hasCampaigns","watch","$route","mounted","page","search","beforeDestroy","methods","initRequests","updatePageVars","component"],"mappings":"oHAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,YAAY,CAACE,YAAY,wBAAwB,CAACF,EAAG,KAAK,CAACE,YAAY,qBAAqB,CAACJ,EAAIK,GAAG,eAAeH,EAAG,cAAc,CAACE,YAAY,gBAAgBE,MAAM,CAAC,KAAO,SAASC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOR,EAAIS,OAAOC,KAAK,8BAA8B,CAACV,EAAIK,GAAG,aAAaH,EAAG,gBAAgB,CAACI,MAAM,CAAC,OAASN,EAAIW,UAAUT,EAAG,aAAa,CAACI,MAAM,CAAC,KAAO,OAAO,KAAO,WAAW,CAAGN,EAAIY,WAAcZ,EAAIa,UAA0Cb,EAAIc,gBAAiBZ,EAAG,0BAA0BA,EAAG,MAAM,CAACa,YAAY,CAAC,SAAW,aAAa,CAACb,EAAG,0BAA0B,CAACI,MAAM,CAAC,UAAU,EAAIN,EAAIgB,KAAKC,OAAO,aAAajB,EAAIkB,WAAWX,GAAG,CAAC,UAAYP,EAAImB,aAAajB,EAAG,kBAAkB,CAACI,MAAM,CAAC,UAAYN,EAAIoB,gBAAgB,UAAU,EAAIpB,EAAIgB,KAAKC,OAAO,aAAajB,EAAIkB,UAAU,gBAAgBlB,EAAIqB,cAAgBrB,EAAIa,WAAWN,GAAG,CAAC,UAAYP,EAAImB,aAAcnB,EAAIa,UAAWX,EAAG,eAAe,CAACa,YAAY,CAAC,SAAW,WAAW,IAAM,QAAQ,QAAU,SAASf,EAAIsB,MAAM,GAA5jBpB,EAAG,4BAA6jB,GAAGA,EAAG,mCAAmC,IAExlCqB,EAAkB,G,iCC4BP,GAafC,wBACA,iEAEA,sBAEAC,KAEAC,gBACAC,OACA,OACAT,mBAGAU,aACA,+DACA,uDACA,8BACA,2EACAf,YACA,yEAEAQ,eACA,2DAEAD,kBACA,sBACA,yBAEA,IAEAS,eACA,mCAEAf,kBACA,yEAGAgB,OACAC,UACA,uBAEA,wCAGAC,UACA,kBACAC,wDACAC,2DAGA,gBACA,oBAGA,8CAEAC,gBACA,+CAEAC,YACA,kFACAC,eACA,sCACA,yBAEAlB,aACA,kBAEAmB,iBAAA,gEACA,kBACAL,qCACAC,0CClHmV,I,wBCQ/UK,EAAY,eACd,EACAxC,EACAwB,GACA,EACA,KACA,KACA,MAIa,aAAAgB,E,oECnBf","file":"js/campaigns.e95ba120.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('core-page',{staticClass:\"omapi-campaign-table\"},[_c('h1',{staticClass:\"wp-heading-inline\"},[_vm._v(\"Campaigns\")]),_c('core-button',{staticClass:\"omapi-add-new\",attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$modal.show('create-campaign-by-type')}}},[_vm._v(\"Add New\")]),_c('common-alerts',{attrs:{\"alerts\":_vm.alerts}}),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(!_vm.connected && !_vm.isLoading)?_c('campaigns-not-connected'):(_vm.showNoCampaigns)?_c('campaigns-no-campaigns'):_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('campaigns-table-filters',{attrs:{\"is-bulk\":0 < _vm.bulk.length,\"action-key\":_vm.actionKey},on:{\"setAction\":_vm.setAction}}),_c('campaigns-table',{attrs:{\"campaigns\":_vm.campaignsToShow,\"is-bulk\":0 < _vm.bulk.length,\"action-key\":_vm.actionKey,\"is-refreshing\":_vm.isRefreshing || _vm.isLoading},on:{\"setAction\":_vm.setAction}}),(_vm.isLoading)?_c('core-loading',{staticStyle:{\"position\":\"absolute\",\"top\":\"128px\",\"opacity\":\"0.2\"}}):_vm._e()],1)],1),_c('campaigns-modal-create-by-type')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<core-page class=\"omapi-campaign-table\">\n\t\t<h1 class=\"wp-heading-inline\">Campaigns</h1>\n\t\t<core-button size=\"small\" class=\"omapi-add-new\" @click=\"$modal.show('create-campaign-by-type')\"\n\t\t\t>Add New</core-button\n\t\t>\n\t\t<common-alerts :alerts=\"alerts\" />\n\t\t<transition name=\"fade\" mode=\"out-in\">\n\t\t\t<campaigns-not-connected v-if=\"!connected && !isLoading\" />\n\t\t\t<campaigns-no-campaigns v-else-if=\"showNoCampaigns\" />\n\t\t\t<div v-else style=\"position: relative\">\n\t\t\t\t<campaigns-table-filters :is-bulk=\"0 < bulk.length\" :action-key=\"actionKey\" @setAction=\"setAction\" />\n\t\t\t\t<campaigns-table\n\t\t\t\t\t:campaigns=\"campaignsToShow\"\n\t\t\t\t\t:is-bulk=\"0 < bulk.length\"\n\t\t\t\t\t:action-key=\"actionKey\"\n\t\t\t\t\t:is-refreshing=\"isRefreshing || isLoading\"\n\t\t\t\t\t@setAction=\"setAction\"\n\t\t\t\t/>\n\t\t\t\t<core-loading v-if=\"isLoading\" style=\"position: absolute; top: 128px; opacity: 0.2\" />\n\t\t\t</div>\n\t\t</transition>\n\t\t<campaigns-modal-create-by-type />\n\t</core-page>\n</template>\n\n<script lang=\"js\">\nimport get from 'lodash/get'\nimport { mapState, mapActions, mapGetters } from 'vuex'\n\nexport default  {\n\t/**\n\t * Called when the route that renders this component is about to be\n\t * navigated away from.\n\t *\n\t * @since  2.0.0\n\t *\n\t * @param  {Object}   to   New route.\n\t * @param  {Object}   from Old route.\n\t * @param  {Function} next Tells Vue Router we can proceed.\n\t *\n\t * @returns {void}\n\t */\n\tbeforeRouteLeave (to, from, next) {\n\t\tif ('campaigns' !== get(to, 'meta.parent') && 'campaigns' !== get(to, 'name')) {\n\t\t\t// If going away from campaigns, need to reset the page/search vars.\n\t\t\tthis.updatePageVars()\n\t\t}\n\t\tnext()\n\t},\n\tinheritAttrs : false,\n\tdata () {\n\t\treturn {\n\t\t\tactionKey : 'none',\n\t\t}\n\t},\n\tcomputed : {\n\t\t...mapGetters([ 'connected', 'isFetched', 'shouldFetchUser' ]),\n\t\t...mapGetters('campaigns', [ 'campaignsWithSplits' ]),\n\t\t...mapState([ 'alerts' ]),\n\t\t...mapState('campaigns', [ 'bulk', 'page', 'search', 'totalCampaignsCount' ]),\n\t\tisLoading () {\n\t\t\treturn this.shouldFetchUser || this.$store.getters.isLoading('campaigns')\n\t\t},\n\t\tisRefreshing () {\n\t\t\treturn this.$store.getters.isLoading('campaigns-refresh')\n\t\t},\n\t\tcampaignsToShow () {\n\t\t\tif (this.connected) {\n\t\t\t\treturn this.campaignsWithSplits\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\thasCampaigns () {\n\t\t\treturn 0 < this.totalCampaignsCount\n\t\t},\n\t\tshowNoCampaigns () {\n\t\t\treturn !this.hasCampaigns && !this.isLoading && this.isFetched('mainQuery')\n\t\t},\n\t},\n\twatch : {\n\t\t$route (to) {\n\t\t\tthis.updatePageVars(to)\n\n\t\t\tthis.refreshDashboard().catch(() => {})\n\t\t},\n\t},\n\tmounted () {\n\t\tthis.setPageVars({\n\t\t\tpage   : this.$get('$route.params.campaignsPage', this.page),\n\t\t\tsearch : this.$get('$route.params.searchTerm', this.search),\n\t\t})\n\n\t\tif (!this.isLoading) {\n\t\t\tthis.initRequests()\n\t\t}\n\n\t\tthis.$bus.$on('fetchedMe', this.initRequests)\n\t},\n\tbeforeDestroy () {\n\t\tthis.$bus.$off('fetchedMe', this.initRequests)\n\t},\n\tmethods : {\n\t\t...mapActions('campaigns', [ 'setPageVars', 'refreshDashboard', 'fetchRulesetData' ]),\n\t\tinitRequests () {\n\t\t\tthis.refreshDashboard().catch(() => {})\n\t\t\tthis.fetchRulesetData()\n\t\t},\n\t\tsetAction (key) {\n\t\t\tthis.actionKey = key\n\t\t},\n\t\tupdatePageVars (to = {}) {\n\t\t\tthis.setPageVars({\n\t\t\t\tpage   : get(to, 'params.campaignsPage', 1),\n\t\t\t\tsearch : get(to, 'params.searchTerm', ''),\n\t\t\t})\n\t\t},\n\t},\n};\n</script>\n\n<style lang=\"scss\">\n@import '../assets/scss/variables';\n@import '../assets/scss/pages/campaigns';\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaigns.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaigns.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Campaigns.vue?vue&type=template&id=4242a584&\"\nimport script from \"./Campaigns.vue?vue&type=script&lang=js&\"\nexport * from \"./Campaigns.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Campaigns.vue?vue&type=style&index=0&id=4242a584&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaigns.vue?vue&type=style&index=0&id=4242a584&prod&lang=scss&\""],"sourceRoot":""}